(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,n){e.exports={nav:"nav_nav__273YO",navLink:"nav_navLink__2QMcq",hidden:"nav_hidden__aTU3f",navLinkActive:"nav_navLinkActive__tMVca"}},18:function(e,t,n){e.exports={container:"types_container__QauWd",icon:"types_icon__3GqX-",iconActive:"types_iconActive__pM7Ws",iconReadOnly:"types_iconReadOnly__wiO3G"}},30:function(e,t,n){e.exports={container:"Landing_container__1oH40",button:"Landing_button__1QQoC"}},32:function(e,t,n){e.exports={container:"pokemonCards_container__1HCql"}},33:function(e,t,n){e.exports={card:"pokemonCard_card__1lrhg"}},34:function(e,t,n){e.exports={paging:"paging_paging__1aamo"}},36:function(e,t,n){e.exports={rightBar:"apiRegsOrderFilter_rightBar__cfAOq"}},37:function(e,t,n){e.exports={imgDetail:"pokemonDetails_imgDetail__380Zp"}},44:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var o=n(1),s=n.n(o),i=n(22),a=n.n(i),r=(n(44),n(4)),c=n(5),p=n(6),l=n(7),h=n(8),u=n(13),j=n(39),d=n(0);function b(e){var t=e.onSearch,n=void 0===t?alert:t,s=Object(o.useState)(""),i=Object(j.a)(s,2),a=i[0],r=i[1];return Object(d.jsxs)("form",{style:{position:"absolute",right:"1.5rem"},onSubmit:function(e){e.preventDefault(),n(a),r("")},children:[Object(d.jsx)("input",{type:"text",placeholder:"Buscar por nombre o ID...",value:a,onChange:function(e){r(e.target.value)},style:{margin:"0 10px"}}),Object(d.jsx)("input",{type:"submit",value:"Buscar"})]})}var O=n(17),g=n.n(O),m=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return console.log(this.props),Object(d.jsxs)("div",{className:g.a.nav,children:[Object(d.jsx)(u.c,{className:g.a.navLink,activeClassName:g.a.navLinkActive,to:"/home",children:"Home"}),Object(d.jsx)("br",{}),Object(d.jsx)(u.c,{className:g.a.navLink,activeClassName:g.a.navLinkActive,exact:!0,to:"/pokemon/create",children:"Create Pokemon"}),Object(d.jsx)("br",{}),Object(d.jsx)(b,{})]})}}]),n}(s.a.Component),y=n(15),v=n(2),f=n(32),x=n.n(f),k=n(18),_=n.n(k),C=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).handleClick=function(e){o.setState((function(t){var n,s,i;return{activeTypes:null!==(n=t.activeTypes)&&void 0!==n&&n.some((function(t){return t.name===e.target.name}))?null===(s=t.activeTypes)||void 0===s?void 0:s.filter((function(t){return t.name!==e.target.name})):[].concat(Object(y.a)(t.activeTypes),[null===(i=o.props.types)||void 0===i?void 0:i.find((function(t){return t.name===e.target.name}))])}}),(function(){o.props.onChange(o.state.activeTypes)}))},o.state={activeTypes:e.actives},o}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.state.activeTypes||this.setState((function(t){return Object(v.a)(Object(v.a)({},t),{},{activeTypes:e.props.actives})}))}},{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:_.a.container,children:this.props.types.map((function(t){var n=t.name;return Object(d.jsx)("img",{className:e.state.activeTypes.some((function(e){return e.name===n}))?e.props.onChange?"".concat(_.a.icon," ").concat(_.a.iconActive):_.a.iconReadOnly:_.a.icon,src:"./images/types/".concat(n,".gif"),alt:n,title:n.toUpperCase(),name:n,onClick:e.props.onChange&&e.handleClick},n)}))})}}]),n}(s.a.Component),R=n(33),E=n.n(R),P=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(d.jsxs)(u.b,{className:E.a.card,to:"/pokemon/".concat(this.props.id),children:[Object(d.jsx)("h3",{children:this.props.name[0].toUpperCase()+this.props.name.substring(1)}),Object(d.jsx)("img",{src:this.props.image,alt:this.props.name[0].toUpperCase()+this.props.name.substring(1)}),Object(d.jsx)(C,{types:this.props.types.map((function(e){return{name:e}})),actives:this.props.types.map((function(e){return{name:e}}))})]})}}]),n}(s.a.Component),w=n(34),T=n.n(w),S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).pageCount=0,o}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(){this.props.page>this.pageCount&&this.props.onPageChange(this.pageCount)}},{key:"render",value:function(){var e=this;return this.pageCount=Math.ceil(this.props.pokemonsCount/this.props.ipp),Object(d.jsxs)("form",{className:T.a.paging,children:[Object(d.jsx)("div",{style:{display:"inline-block",marginRight:"40px",cursor:"pointer"},onClick:function(){e.props.page>1&&e.props.onPageChange(e.props.page-1)},children:Object(d.jsx)("h3",{children:"Prev"})}),Object(d.jsxs)("h6",{style:{display:"inline-block",marginRight:"30px"},children:["(",this.props.pokemonsCount," Pokemons)"]}),Object(d.jsx)("h5",{style:{display:"inline-block",marginRight:"5px"},children:"Page:"}),Object(d.jsx)("input",{type:"number",value:this.props.page,style:{width:35,marginRight:"5px"},name:"page",id:"page",onChange:function(t){var n=t.target;n.value>=1&&n.value<=e.pageCount&&e.props.onPageChange(- -n.value)}}),Object(d.jsxs)("h5",{style:{display:"inline-block",marginRight:"30px"},children:["/ ",this.pageCount]}),Object(d.jsx)("h5",{style:{display:"inline-block",marginRight:"5px"},children:"IPP:"}),Object(d.jsx)("input",{type:"number",value:this.props.ipp,style:{width:50,marginRight:"5px"},name:"ipp",id:"ipp",onChange:function(t){var n=t.target;n.value>0&&e.props.setIpp(n.value)}}),Object(d.jsx)("div",{onClick:function(){e.props.page<e.pageCount&&e.props.onPageChange(e.props.page+1)},style:{display:"inline-block",paddingLeft:"40px",cursor:"pointer"},children:Object(d.jsx)("h3",{children:"Next"})})]})}}]),n}(s.a.Component),D=n(14);function A(e,t){if(!t)return e;var n=t.slice(0,t.length-1),o="A"===t.slice(t.length-1)?1:-1;if(!n||!e||!o)throw new Error("Error on arguments");return Object(y.a)(e).sort((function(e,t){return e[n]>t[n]?o:-o}))}var N=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).handlePageChange=function(e){o.setState((function(t){return Object(v.a)(Object(v.a)({},t),{},{page:e})}))},o.state={page:1},o}return Object(p.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(S,{pokemonsCount:this.props.pokemonsFiltered.length,page:this.state.page,ipp:this.props.ipp,onPageChange:this.handlePageChange,setIpp:this.props.setIpp}),Object(d.jsx)("div",{className:x.a.container,children:A(this.props.pokemonsFiltered,this.props.order).slice(this.state.page*this.props.ipp-this.props.ipp,this.state.page*this.props.ipp).map((function(e,t){return Object(o.createElement)(P,Object(v.a)(Object(v.a)({},e),{},{key:e.id}))}))})]})}}]),n}(s.a.Component),F=Object(D.b)((function(e){return{order:e.order,ipp:e.ipp}}),{setIpp:function(e){return{type:"SET_IPP",payload:e}}})(N),L=n(25),I=n(36),M=n.n(I),G=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;Object(c.a)(this,n),(o=t.call(this,e)).handleRegs=function(e){switch(e.target.name){case"apiRegs":e.target.value>=0&&o.props.setApiRegs(e.target.value),console.log("defino si bajar mas pokemons",o.props.apiPokemons,e.target.value),o.props.apiPokemons<e.target.value&&(o.props.setLoading(!0),o.props.getApiPokemons(e.target.value).then((function(){return o.props.setLoading(!1)})));break;case"api":o.props.setApiRegs(e.target.checked?o.props.apiPokemons||40:0);break;case"own":o.props.setOwnRegs(e.target.checked)}},o.sliceOrder=function(e){return e?[e.substring(0,e.length-1),e[e.length-1]]:["","A"]},o.handleOrder=function(e){o.setState((function(t){return Object(v.a)(Object(v.a)({},t),{},Object(L.a)({},e.target.name,e.target.value))}),(function(){return o.props.setOrder(""!==o.state.orderBy?o.state.orderBy+o.state.order:null)}))};var s=o.sliceOrder(o.props.order);return o.state={orderBy:s[0],order:s[1]},o}return Object(p.a)(n,[{key:"componentDidMount",value:function(){console.log("Component did Mount",this.props.pokemons),this.props.pokemons||(console.log("Getting Pokemons"),this.props.apiRegs&&this.props.getApiPokemons(this.props.apiRegs),this.props.ownRegs&&this.props.getOwnPokemons())}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:M.a.rightBar,children:[Object(d.jsxs)("fieldset",{children:[Object(d.jsx)("legend",{children:"Regs includes:"}),Object(d.jsx)("table",{children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[Object(d.jsx)("input",{type:"checkbox",id:"own",name:"own",checked:this.props.ownRegs,onChange:this.handleRegs}),Object(d.jsx)("label",{htmlFor:"own",children:"Own DB"})]}),Object(d.jsxs)("td",{children:[Object(d.jsx)("input",{type:"checkbox",id:"api",name:"api",checked:this.props.apiRegs>0,onChange:this.handleRegs}),Object(d.jsx)("label",{htmlFor:"api",children:"Api"})]})]}),Object(d.jsx)("tr",{style:this.props.apiRegs?{display:"table-row"}:{display:"none"},children:Object(d.jsxs)("td",{colSpan:2,children:[Object(d.jsx)("h6",{style:{display:"inline-block",margin:"10px"},children:"Api Pokemons:"}),Object(d.jsx)("input",{type:"number",value:this.props.apiRegs,style:{width:70,marginRight:"5px"},name:"apiRegs",onChange:this.handleRegs})]})})]})})]}),Object(d.jsxs)("fieldset",{children:[Object(d.jsx)("legend",{children:"Order:"}),Object(d.jsx)("table",{children:Object(d.jsxs)("tbody",{children:[Object(d.jsx)("tr",{children:Object(d.jsxs)("td",{colSpan:2,children:[Object(d.jsx)("h6",{style:{display:"inline-block",margin:"10px"},children:"Order by:"}),Object(d.jsxs)("select",{name:"orderBy",value:this.state.orderBy,onChange:this.handleOrder,children:[Object(d.jsx)("option",{value:"",children:"None"}),Object(d.jsx)("option",{value:"name",children:"Name"}),Object(d.jsx)("option",{value:"weight",children:"Weight"}),Object(d.jsx)("option",{value:"attack",children:"Attack"})]})]})}),Object(d.jsxs)("tr",{style:""===this.state.orderBy?{display:"none"}:{display:"table-row"},children:[Object(d.jsxs)("td",{children:[Object(d.jsx)("input",{type:"radio",value:"A",id:"asce",name:"order",checked:"A"===this.state.order,onChange:this.handleOrder}),Object(d.jsx)("label",{htmlFor:"asce",children:"Ascending"})]}),Object(d.jsxs)("td",{children:[Object(d.jsx)("input",{type:"radio",value:"D",id:"desc",name:"order",checked:"D"===this.state.order,onChange:this.handleOrder}),Object(d.jsx)("label",{htmlFor:"desc",children:"Descending"})]})]})]})})]}),Object(d.jsxs)("fieldset",{children:[Object(d.jsx)("legend",{children:"Type Filter:"}),Object(d.jsx)(C,{onChange:this.props.onFilterChange,types:this.props.types,actives:this.props.typesFilter})]})]})}}]),n}(s.a.Component),B=Object(D.b)((function(e){return{order:e.order}}),{setOrder:function(e){return{type:"SET_ORDER",payload:e}},setApiRegs:function(e){return{type:"SET_API_REGS",payload:e}},setOwnRegs:function(e){return{type:"SET_OWN_REGS",payload:e}},getApiPokemons:function(e){return function(t){return fetch("http://localhost:3001/pokemons?only=api&apiRegs=".concat(e)).then((function(e){return e.json()})).then((function(e){return t({type:"GET_API_POKEMONS",payload:e})})).catch(console.log)}},getOwnPokemons:function(){return function(e){fetch("http://localhost:3001/pokemons?only=own").then((function(e){return e.json()})).then((function(t){return e({type:"GET_OWN_POKEMONS",payload:t})})).catch(console.log)}},setLoading:function(e){return{type:"SET_LOADING",payload:e}}})(G),U=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).handleFilterChange=function(t){e.props.setTypesFilter(t)},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.types||this.props.getTypes().then((function(t){return e.props.setTypesFilter(t.payload)}))}},{key:"render",value:function(){var e,t,n,o,s,i=this;if(!this.props.types||!this.props.typesFilter||this.props.loading)return Object(d.jsx)("div",{children:Object(d.jsx)("h2",{children:"Loading..."})});var a=[];return null!==(e=this.props.pokemons)&&void 0!==e&&e.own&&this.props.ownRegs&&(t=a).push.apply(t,Object(y.a)(this.props.pokemons.own)),null!==(n=this.props.pokemons)&&void 0!==n&&n.api&&this.props.apiRegs&&(o=a).push.apply(o,Object(y.a)(this.props.pokemons.api.slice(0,this.props.apiRegs))),a=a.filter((function(e){return e.types.some((function(e){return i.props.typesFilter.some((function(t){return t.name===e}))}))})),Object(d.jsxs)("div",{children:[Object(d.jsx)(B,{apiRegs:this.props.apiRegs,ownRegs:this.props.ownRegs,apiPokemons:((null===(s=this.props.pokemons)||void 0===s?void 0:s.api)||[]).length,onFilterChange:this.handleFilterChange,types:this.props.types,typesFilter:this.props.typesFilter}),a.length?Object(d.jsx)(F,{pokemonsFiltered:a}):Object(d.jsx)("div",{style:{display:"inline-block"},children:Object(d.jsx)("h3",{children:"No pokemons to list."})})]})}}]),n}(s.a.Component),K=Object(D.b)((function(e){return{pokemons:e.pokemons,typesFilter:e.typesFilter,types:e.types,apiRegs:e.apiRegs,ownRegs:e.ownRegs,loading:e.loading}}),{getTypes:function(){return function(e){return fetch("http://localhost:3001/types").then((function(e){return e.json()})).then((function(t){return e({type:"GET_TYPES",payload:t})})).catch(console.log)}},setTypesFilter:function(e){return{type:"SET_TYPES_FILTER",payload:e}}})(U),W=n(30),Y=n.n(W),q=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:Y.a.container,children:Object(d.jsx)(u.c,{to:"/home",className:Y.a.button,children:"H O M E"})})}}]),n}(o.Component),H=n(37),Q=n.n(H),X=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).state={loading:!0},o}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;try{this.props.getPokemonDetail(this.props.match.params.id).then((function(t){return e.setState({loading:!1})}))}catch(t){console.log(t)}}},{key:"render",value:function(){return this.state.loading?Object(d.jsx)("h3",{children:"Loading..."}):(console.log(this.props),Object(d.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(d.jsxs)("div",{style:{width:"70%",textAlign:"center",backgroundColor:"greenyellow",margin:"auto"},children:[Object(d.jsx)("h1",{children:this.props.pokemonDetail.name[0].toUpperCase()+this.props.pokemonDetail.name.substring(1)+" (".concat(this.props.pokemonDetail.id,")")}),Object(d.jsx)("img",{className:Q.a.imgDetail,src:this.props.pokemonDetail.image,alt:this.props.pokemonDetail.name[0].toUpperCase()+this.props.pokemonDetail.name.substring(1)}),Object(d.jsx)(C,{types:this.props.pokemonDetail.types.map((function(e){return{name:e}})),actives:this.props.pokemonDetail.types.map((function(e){return{name:e}}))})]})}))}}]),n}(s.a.Component),J=Object(D.b)((function(e){return{pokemonDetail:e.pokemonDetail,types:e.types}}),{getPokemonDetail:function(e){return function(t){return fetch("http://localhost:3001/pokemons/".concat(e)).then((function(e){return e.json()})).then((function(e){return t({type:"GET_POKEMON_DETAIL",payload:e})})).catch(console.log)}}})(X),V=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Create Pokemon"})})}}]),n}(o.Component);var Z=function(){return Object(d.jsxs)("div",{style:{height:"100%"},children:[Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{exact:!0,path:"/",component:q}),Object(d.jsx)(m,{})]}),Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{path:"/pokemon/create",children:Object(d.jsx)(V,{})}),Object(d.jsx)(r.a,{path:"/pokemon/:id",component:J}),Object(d.jsx)(r.a,{path:"/home",children:Object(d.jsx)(K,{})})]})]})},z=n(27),$={pokemons:null,types:null,typesFilter:null,order:null,ipp:12,apiRegs:40,ownRegs:!0,loading:!1,pokemonDetail:null},ee=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,o=arguments.length>1?arguments[1]:void 0,s=o.type,i=o.payload;switch(s){case"GET_API_POKEMONS":return console.log("apiPokemons:",null===(e=n.pokemons)||void 0===e?void 0:e.api,"->",i),Object(v.a)(Object(v.a)({},n),{},{pokemons:Object(v.a)(Object(v.a)({},n.pokemons),{},{api:i})});case"SET_LOADING":return Object(v.a)(Object(v.a)({},n),{},{loading:i});case"GET_OWN_POKEMONS":return console.log("ownPokemons:",null===(t=n.pokemons)||void 0===t?void 0:t.own,"->",i),Object(v.a)(Object(v.a)({},n),{},{pokemons:Object(v.a)(Object(v.a)({},n.pokemons),{},{own:i})});case"GET_TYPES":return console.log("types:",n.types,"->",i),Object(v.a)(Object(v.a)({},n),{},{types:i});case"SET_TYPES_FILTER":return console.log("typesFilter:",n.typesFilter,"->",i),Object(v.a)(Object(v.a)({},n),{},{typesFilter:i});case"SET_ORDER":return console.log("order:",n.order,"->",i),Object(v.a)(Object(v.a)({},n),{},{order:i});case"SET_IPP":return Object(v.a)(Object(v.a)({},n),{},{ipp:i});case"SET_API_REGS":return console.log("apiRegs:",n.apiRegs,"->",i),Object(v.a)(Object(v.a)({},n),{},{apiRegs:i});case"SET_OWN_REGS":return console.log("ownRegs:",n.ownRegs,"->",i),Object(v.a)(Object(v.a)({},n),{},{ownRegs:i});case"GET_POKEMON_DETAIL":return Object(v.a)(Object(v.a)({},n),{},{pokemonDetail:i});case"CREATE_POKEMON":return Object(v.a)(Object(v.a)({},n),{},{pokemons:[].concat(Object(y.a)(n.pokemons),[i])});default:return Object(v.a)({},n)}},te=n(38),ne="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.b,oe=Object(z.c)(ee,ne(Object(z.a)(te.a)));a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(D.a,{store:oe,children:Object(d.jsx)(u.a,{children:Object(d.jsx)(Z,{})})})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.1c25e33e.chunk.js.map